(this["webpackJsonpportfolio-react-shopping-cart"]=this["webpackJsonpportfolio-react-shopping-cart"]||[]).push([[0],{49:function(e,t,r){},65:function(e,t,r){"use strict";r.r(t);var c=r(1),s=r(2),n=r.n(s),i=r(17),a=r.n(i),o=(r(47),r(48),r(49),r(9)),l=r(10),d=r(12),j=r(11),h=r(16),u=r(19),p=r(41),O=r(18),b="FETCH_PRODUCTS",m="FILTER_PRODUCTS_BY_STYLE",x="SORT_PRODUCTS_BY_PRICE",f="ADD_TO_CART",v="REMOVE_FROM_CART",y="CREATE_ORDER",g="CLEAR_ORDER",N="FETCH_ORDERS",C=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,I=Object(u.e)(Object(u.c)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return{items:t.payload,filteredItems:t.payload};case m:return Object(O.a)(Object(O.a)({},e),{},{productStyle:t.payload.productStyle,filteredItems:t.payload.items});case x:return Object(O.a)(Object(O.a)({},e),{},{productSort:t.payload.productSort,filteredItems:t.payload.items});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:JSON.parse(localStorage.getItem("cartItems")||"[]")},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:case v:return{cartItems:t.payload.cartItems};default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{order:t.payload};case g:return{order:null};case N:return{orders:t.payload};default:return e}}}),{},C(Object(u.a)(p.a))),S=r(26),k=r(7),w=r(22),T=r.n(w),_=r(31),R=function(e){Object(d.a)(r,e);var t=Object(j.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var e=this;return this.props.filteredProducts?Object(c.jsxs)("div",{className:"filter",children:[Object(c.jsxs)("div",{className:"filter-result",children:[this.props.filteredProducts.length," Decorations"]}),Object(c.jsxs)("div",{className:"filter-sort",children:["Sort By Price",Object(c.jsxs)("select",{value:this.props.productSort,onChange:function(t){return e.props.sortProducts(e.props.filteredProducts,t.target.value)},children:[Object(c.jsx)("option",{value:"",children:"Default"}),Object(c.jsx)("option",{value:"lowest",children:"Lowest"}),Object(c.jsx)("option",{value:"highest",children:"Highest"})]})]}),Object(c.jsxs)("div",{className:"filter-style",children:["Filter",Object(c.jsxs)("select",{value:this.props.productStyle,onChange:function(t){return e.props.filterProducts(e.props.products,t.target.value)},children:[Object(c.jsx)("option",{value:"",children:"Select"}),Object(c.jsx)("option",{value:"",children:"All"}),Object(c.jsx)("option",{value:"wreaths",children:"Wreaths"}),Object(c.jsx)("option",{value:"knickknacks",children:"Knickknacks"}),Object(c.jsx)("option",{value:"ornaments",children:"Ornaments"})]})]})]}):Object(c.jsx)("div",{style:{fontWeight:"bold",color:"white"},children:"Loading..."})}}]),r}(s.Component),E=Object(h.b)((function(e){return{productStyle:e.products.productStyle,productSort:e.products.productSort,products:e.products.items,filteredProducts:e.products.filteredItems}}),{filterProducts:function(e,t){return function(){var r=Object(_.a)(T.a.mark((function r(c){return T.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:c({type:m,payload:{productStyle:t,items:""===t?e:e.filter((function(e){return e.productStyle.indexOf(t)>=0}))}});case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},sortProducts:function(e,t){return function(r){var c=e.slice();c.sort((function(e,r){return"lowest"===t?e.price>r.price?1:-1:e.price>r.price?-1:1})),r({type:x,payload:{productSort:t,items:c}})}}})(R),D=r(24),P=r(66),M=r(67),A=r(68),B=r(79),L=r(69),F=r(70),J=r(71),W=r(72);function Y(e){return"$"+Number(e.toLocaleString(2))}var q=r(21),H=r.n(q),U=function(e){Object(d.a)(r,e);var t=Object(j.a)(r);function r(e){var c;return Object(o.a)(this,r),(c=t.call(this,e)).handleInput=function(e){c.setState(Object(D.a)({},e.target.name,e.target.value))},c.createOrder=function(e){e.preventDefault();var t={name:c.state.name,email:c.state.email,address:c.state.address,cartItems:c.props.cartItems,total:c.props.cartItems.reduce((function(e,t){return e+t.price*t.count}),0)};c.props.createOrder(t)},c.closeModal=function(){c.props.clearOrder()},c.state={name:"",email:"",address:"",showCheckout:!1},c}return Object(l.a)(r,[{key:"render",value:function(){var e=this,t=this.props.cartItems.map((function(t){return Object(c.jsx)("div",{className:"cart-depiction",children:Object(c.jsx)(P.a,{children:Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col",children:[Object(c.jsxs)("div",{className:"media",children:[Object(c.jsx)("img",{className:"mr-3",src:t.image,alt:t.description}),Object(c.jsxs)("div",{className:"media-body",style:{marginTop:".5rem",marginRight:".5rem"},children:[Object(c.jsx)("p",{children:Object(c.jsx)("a",{href:"#",children:t.title})}),Object(c.jsxs)("p",{children:[Y(t.price)," x ",t.count]})]})]}),Object(c.jsx)(M.a,{onClick:function(){return e.props.removeFromCart(t)},color:"danger",style:{fontWeight:"bold",marginBottom:".5rem"},children:"Remove"})]})})})},t._id)}));return Object(c.jsx)(H.a,{top:!0,children:Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{children:[0===this.props.cartItems.length?Object(c.jsx)(P.a,{children:Object(c.jsx)(A.a,{className:"cart-empty",children:"Your cart is empty, add some cheer!"})}):1===this.props.cartItems.length?Object(c.jsx)(P.a,{children:Object(c.jsxs)(A.a,{className:"cart-full",children:[" You have ",this.props.cartItems.length," decoration in your cart!"]})}):Object(c.jsx)(P.a,{children:Object(c.jsxs)(A.a,{className:"cart-full",children:["You have ",this.props.cartItems.length," decorations in your cart!"]})}),this.props.order&&Object(c.jsx)(B.a,{isOpen:!0,onRequestClose:this.closeModal,children:Object(c.jsxs)(L.a,{className:"order-modal",children:[Object(c.jsx)(M.a,{className:"float-right",onClick:this.closeModal,children:"x"}),Object(c.jsxs)(F.a,{children:["Thanks ",this.props.order.name,", we have received your order!"]}),Object(c.jsxs)("div",{style:{padding:"1rem"},children:[Object(c.jsxs)("div",{children:["Reference Number: ",this.props.order._id]}),Object(c.jsxs)("div",{children:["Order Date: ",this.props.order.createdAt]}),Object(c.jsxs)("div",{children:["Shipping Address: ",this.props.order.address]}),Object(c.jsx)("div",{style:{paddingTop:".5rem"},children:this.props.order.cartItems.map((function(e){return Object(c.jsxs)("div",{children:[e.count," ","x"," ",e.title]})}))}),Object(c.jsxs)("div",{style:{paddingTop:".5rem"},children:["Total: ",Y(this.props.order.total)]})]})]})})]}),Object(c.jsx)("div",{children:t}),Object(c.jsx)("div",{children:this.props.cartItems.length>=1?Object(c.jsx)("div",{children:Object(c.jsx)(P.a,{className:"total-price",children:Object(c.jsxs)(J.a,{children:[Object(c.jsxs)(A.a,{children:["Total Price: ",Y(this.props.cartItems.reduce((function(e,t){return e+t.price*t.count}),0))]}),Object(c.jsx)(W.a,{children:Object(c.jsx)(M.a,{onClick:function(){e.setState({showCheckout:!0})},color:"success",style:{fontWeight:"bold"},children:"Proceed"})})]})})}):Object(c.jsx)("div",{})}),Object(c.jsx)("div",{children:this.state.showCheckout&&Object(c.jsx)(H.a,{bottom:!0,children:Object(c.jsx)(P.a,{children:Object(c.jsx)("form",{onSubmit:this.createOrder,children:Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-8",children:Object(c.jsx)("input",{name:"email",type:"email",required:!0,className:"form-control",placeholder:"Email",onChange:this.handleInput})}),Object(c.jsx)("div",{className:"col-4"}),Object(c.jsx)("div",{className:"col-8",children:Object(c.jsx)("input",{name:"name",type:"text",required:!0,className:"form-control",placeholder:"Name",onChange:this.handleInput})}),Object(c.jsx)("div",{className:"col-4"}),Object(c.jsx)("div",{className:"col-8",children:Object(c.jsx)("input",{name:"address",type:"text",required:!0,className:"form-control",placeholder:"Address",onChange:this.handleInput})}),Object(c.jsx)("div",{className:"col-4"}),Object(c.jsx)("div",{className:"col-12",children:Object(c.jsx)(M.a,{color:"success",style:{fontWeight:"bold",marginTop:".5rem",marginBottom:".5rem"},children:"Checkout"})})]})})})})})})]})})}}]),r}(s.Component),V=Object(h.b)((function(e){return{order:e.order.order,cartItems:e.cart.cartItems}}),{removeFromCart:function(e){return function(t,r){var c=r().cart.cartItems.slice().filter((function(t){return t._id!==e._id}));t({type:v,payload:{cartItems:c}}),localStorage.setItem("cartItems",JSON.stringify(c))}},createOrder:function(e){return function(t){fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){t({type:y,payload:e}),localStorage.clear("cartItems"),t({type:"CLEAR_CART"})}))}},clearOrder:function(){return function(e){e({type:g})}}})(U),X=r(73),z=r(74),K=function(e){Object(d.a)(r,e);var t=Object(j.a)(r);function r(e){var c;return Object(o.a)(this,r),(c=t.call(this,e)).openModal=function(e){c.setState({product:e})},c.closeModal=function(){c.setState({product:null})},c.state={product:null},c}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchProducts()}},{key:"render",value:function(){var e=this,t=this.state.product;return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsx)(H.a,{bottom:!0,children:this.props.products?Object(c.jsx)("div",{className:"row",children:this.props.products.map((function(t){return Object(c.jsx)("div",{className:"col-md-6",children:Object(c.jsx)(P.a,{style:{marginBottom:"2rem"},children:Object(c.jsxs)(J.a,{children:[Object(c.jsx)(A.a,{className:"text-center product-title",children:Object(c.jsx)("a",{href:"#",onClick:function(){return e.openModal(t)},children:t.title})}),Object(c.jsx)(X.a,{onClick:function(){return e.openModal(t)},src:t.image,alt:t.description}),Object(c.jsxs)(W.a,{children:[Object(c.jsx)("p",{children:t.description}),Object(c.jsx)("p",{children:Y(t.price)})]}),Object(c.jsx)(M.a,{onClick:function(){return e.props.addToCart(t)},color:"warning",style:{margin:"1rem"},children:"Add To Cart"})]})},t._id)})}))}):Object(c.jsx)("div",{style:{fontWeight:"bold",color:"white"},children:"Loading..."})})}),Object(c.jsx)("div",{className:"row",children:t&&Object(c.jsx)("div",{children:Object(c.jsx)(B.a,{className:"product-title",isOpen:!0,onRequestClose:this.closeModal,children:Object(c.jsxs)(L.a,{children:[Object(c.jsx)(M.a,{className:"float-right",onClick:function(){return e.closeModal()},children:"x"}),Object(c.jsx)(F.a,{onClick:this.closeModal,children:t.title}),Object(c.jsx)(X.a,{onClick:this.toggleModal,src:t.image,alt:t.description}),Object(c.jsxs)(z.a,{children:[Object(c.jsx)("p",{children:t.description}),Object(c.jsx)("p",{children:Y(t.price)})]}),Object(c.jsx)(M.a,{onClick:function(){e.props.addToCart(t),e.closeModal()},color:"warning",style:{margin:"1rem"},children:"Add To Cart"})]})})})})]})}}]),r}(s.Component),$=Object(h.b)((function(e){return{products:e.products.filteredItems}}),{fetchProducts:function(){return function(){var e=Object(_.a)(T.a.mark((function e(t){var r,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/products");case 2:return r=e.sent,e.next=5,r.json();case 5:c=e.sent,t({type:b,payload:c});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},addToCart:function(e){return function(t,r){var c=r().cart.cartItems.slice(),s=!1;c.forEach((function(t){t._id===e._id&&(s=!0,t.count++)})),s||c.push(Object(O.a)(Object(O.a)({},e),{},{count:1})),t({type:f,payload:{cartItems:c}}),localStorage.setItem("cartItems",JSON.stringify(c))}}})(K),G=function(e){Object(d.a)(r,e);var t=Object(j.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("div",{children:Object(c.jsx)("h3",{className:"text-center",style:{marginBottom:"1rem",color:"white"},children:"Christmas Decor Online Store"})}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-md-6 filter-section",children:Object(c.jsx)(E,{})}),Object(c.jsx)("div",{className:"col-md-6 cart-style",style:{color:"white"},children:Object(c.jsx)(V,{})}),Object(c.jsx)("div",{className:"col-12 main",children:Object(c.jsx)($,{})})]})]})}}]),r}(s.Component),Q=r(75),Z=function(e){Object(d.a)(r,e);var t=Object(j.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchOrders()}},{key:"render",value:function(){return Object(c.jsx)("div",{className:"container",children:this.props.orders?Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:Object(c.jsx)("h3",{className:"text-center",style:{marginBottom:"2.5rem",color:"white"},children:"Order History"})}),Object(c.jsxs)(Q.a,{responsive:!0,bordered:!0,hover:!0,size:"sm",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"ID"}),Object(c.jsx)("th",{children:"Date"}),Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Email"}),Object(c.jsx)("th",{children:"Shipping Address"}),Object(c.jsx)("th",{children:"Items Ordered"}),Object(c.jsx)("th",{children:"Total"})]})}),this.props.orders.map((function(e){return Object(c.jsx)("tbody",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"row",children:e._id}),Object(c.jsx)("td",{children:e.createdAt}),Object(c.jsx)("td",{children:e.name}),Object(c.jsx)("td",{children:e.email}),Object(c.jsx)("td",{children:e.address}),Object(c.jsx)("td",{children:e.cartItems.map((function(e){return Object(c.jsxs)("div",{children:[e.count," ","x"," ",e.title]})}))}),Object(c.jsx)("td",{children:Y(e.total)})]})})}))]})]}):Object(c.jsx)("div",{children:"...Loading"})})}}]),r}(s.Component),ee=Object(h.b)((function(e){return{orders:e.order.orders}}),{fetchOrders:function(){return function(e){fetch("/api/orders").then((function(e){return e.json()})).then((function(t){e({type:N,payload:t})}))}}})(Z),te=function(e){Object(d.a)(r,e);var t=Object(j.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsx)(ee,{})})}}]),r}(s.Component),re=r(76),ce=r(77),se=r(78),ne=function(e){Object(d.a)(r,e);var t=Object(j.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return Object(c.jsx)(h.a,{store:I,children:Object(c.jsx)(S.a,{children:Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsx)(re.a,{dark:!0,expand:"xs",children:Object(c.jsxs)(ce.a,{navbar:!0,children:[Object(c.jsx)(se.a,{style:{paddingRight:".5rem",paddingBottom:".5rem"},children:Object(c.jsxs)(S.b,{className:"nav-link",to:"/home",children:[Object(c.jsx)("i",{className:"fa fa-home fa-lg"})," Home"]})}),Object(c.jsx)(se.a,{style:{paddingRight:".5rem",paddingBottom:".5rem"},children:Object(c.jsxs)(S.b,{className:"nav-link",to:"/admin",children:[Object(c.jsx)("i",{className:"fa fa-user fa-lg"})," Admin"]})})]})}),Object(c.jsxs)("main",{children:[Object(c.jsx)(k.b,{path:"/admin",component:te}),Object(c.jsx)(k.b,{path:"/home",component:G,exact:!0}),Object(c.jsx)(k.a,{to:"/home"})]}),Object(c.jsx)("footer",{children:Object(c.jsx)("div",{className:"container-fluid",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-8 footer-copyright",children:"\xa9 2020, Calli Oberembt"})})})})]})})})}}]),r}(n.a.Component);a.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(ne,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.461daa25.chunk.js.map